//apply plugin: "org.springframework.boot"
//apply plugin: "java"
plugins {
    id("org.springframework.boot")
    id("java")
    id("com.github.johnrengelman.processes") version "0.5.0"
    id("org.springdoc.openapi-gradle-plugin") version "1.3.0"
}

group = "eu._5gzorro"
version = "0.0.1-SNAPSHOT"
sourceCompatibility = "1.8"

dependencies {
    // implementation("org.apache.activemq:artemis-jms-server:2.6.2")
    implementation("org.hibernate.validator:hibernate-validator:6.0.13.Final")

    implementation("org.springframework.boot:spring-boot-starter-websocket:$spring_boot_version") {
//        exclude group: "org.springframework.boot", module: "spring-boot-starter-logging"
    }

    implementation("org.springframework.boot:spring-boot-starter-test:$spring_boot_version") {
//        exclude group: 'org.springframework.boot', module: 'spring-boot-starter-logging'
//        exclude group: 'org.junit.jupiter', module: 'junit-jupiter-engine'
    }

    implementation('org.springdoc:springdoc-openapi-ui:1.5.3')

    testImplementation("org.awaitility:awaitility:$awaitility_version")

    implementation project(":dlt-driver-api")

    testImplementation("org.junit.jupiter:junit-jupiter-api:$junit5_version")
    testRuntime("org.junit.jupiter:junit-jupiter-engine:$junit5_version")
}

test {
	useJUnitPlatform()
}

springBoot {
    mainClassName = "eu._5gzorro.ManagerApplication"
}

openApi {
    outputDir = file("$projectDir/../docs/swagger-ui/")
    outputFileName = "openapi.yaml"
    waitTimeInSeconds = 10
    apiDocsUrl = "http://localhost:8087/api-docs"
}
